/*
 * tables.c
 *
 *  Created on: Jul 29, 2015
 *      Author: austen
 */
#include "arm_math.h"
#include "tables.h"
const float soundFreqTable[96] = {
		27.5       ,    29.13523483,    30.8677063 ,    32.70319748,
		          34.64782715,    36.70809555,    38.89087296,    41.20344543,
		          43.65353012,    46.24930191,    48.9994278 ,    51.91308594,
		          55.        ,    58.27046967,    61.7354126 ,    65.40639496,
		          69.2956543 ,    73.4161911 ,    77.78174591,    82.40689087,
		          87.30706024,    92.49860382,    97.99885559,   103.82617188,
		         110.        ,   116.54093933,   123.4708252 ,   130.81278992,
		         138.59130859,   146.8323822 ,   155.56349182,   164.81378174,
		         174.61412048,   184.99720764,   195.99771118,   207.65234375,
		         220.        ,   233.08187866,   246.94165039,   261.62557983,
		         277.18261719,   293.6647644 ,   311.12698364,   329.62756348,
		         349.22824097,   369.99441528,   391.99542236,   415.3046875 ,
		         440.        ,   466.16375732,   493.88330078,   523.25115967,
		         554.36523438,   587.32952881,   622.25396729,   659.25512695,
		         698.45648193,   739.98883057,   783.99084473,   830.609375  ,
		         880.        ,   932.32751465,   987.76660156,  1046.50231934,
		        1108.73046875,  1174.65905762,  1244.50793457,  1318.51025391,
		        1396.91296387,  1479.97766113,  1567.98168945,  1661.21875   ,
		        1760.        ,  1864.6550293 ,  1975.53320312,  2093.00463867,
		        2217.4609375 ,  2349.31811523,  2489.01586914,  2637.02050781,
		        2793.82592773,  2959.95532227,  3135.96337891,  3322.4375    ,
		        3520.        ,  3729.31005859,  3951.06640625,  4186.00927734,
		        4434.921875  ,  4698.63623047,  4978.03173828,  5274.04101562,
		        5587.65185547,  5919.91064453,  6271.92675781,  6644.875};

const float lfoFreqTable[] = {
		0.3125    ,   0.33108222,   0.3507694 ,   0.37162721,
        0.39372534,   0.41713744,   0.44194174,   0.46822095,
        0.49606282,   0.52556026,   0.55681169,   0.58992147,
        0.625     ,   0.66216445,   0.7015388 ,   0.74325442,
        0.78745067,   0.83427489,   0.88388348,   0.9364419 ,
        0.99212563,   1.05112052,   1.11362338,   1.17984295,
        1.25      ,   1.3243289 ,   1.4030776 ,   1.48650885,
        1.57490134,   1.66854978,   1.76776695,   1.8728838 ,
        1.98425126,   2.10224104,   2.22724676,   2.3596859 ,
        2.5       ,   2.6486578 ,   2.8061552 ,   2.97301769,
        3.14980268,   3.33709955,   3.53553391,   3.74576759,
        3.96850252,   4.20448208,   4.45449352,   4.7193718 ,
        5.        ,   5.2973156 ,   5.61231041,   5.94603539,
        6.29960537,   6.6741991 ,   7.07106781,   7.49153519,
        7.93700504,   8.40896416,   8.90898705,   9.43874359,
       10.        ,  10.5946312 ,  11.22462082,  11.89207077,
       12.59921074,  13.34839821,  14.14213562,  14.98307037,
       15.87401009,  16.81792831,  17.81797409,  18.87748718,
       20.        ,  21.18926239,  22.44924164,  23.78414154,
       25.19842148,  26.69679642,  28.28427124,  29.96614075,
       31.74802017,  33.63585663,  35.63594818,  37.75497437,
       40.        ,  42.37852478,  44.89848328,  47.56828308,
       50.39684296,  53.39359283,  56.56854248,  59.93228149,
       63.49604034,  67.27171326,  71.27189636,  75.50994873,  80.};

const float freqStepTable[] = {
				0.125     ,  0.13243289,  0.14030775,  0.14865088,  0.15749013,
		        0.16685498,  0.17677669,  0.18728839,  0.19842513,  0.21022411,
		        0.22272468,  0.23596857,  0.25      ,  0.26486579,  0.28061551,
		        0.29730177,  0.31498027,  0.33370996,  0.35355338,  0.37457678,
		        0.39685026,  0.42044821,  0.44544935,  0.47193715,  0.5       ,
		        0.52973157,  0.56123102,  0.59460354,  0.62996054,  0.66741991,
		        0.70710677,  0.74915355,  0.79370052,  0.84089643,  0.8908987 ,
		        0.9438743 ,  1.        ,  1.05946314,  1.12246203,  1.18920708,
		        1.25992107,  1.33483982,  1.41421354,  1.49830711,  1.58740103,
		        1.68179286,  1.78179741,  1.8877486 ,  2.        ,  2.11892629,
		        2.24492407,  2.37841415,  2.51984215,  2.66967964,  2.82842708,
		        2.99661422,  3.17480206,  3.36358571,  3.56359482,  3.7754972 ,
		        4.        ,  4.23785257,  4.48984814,  4.75682831,  5.0396843 ,
		        5.33935928,  5.65685415,  5.99322844,  6.34960413,  6.72717142,
		        7.12718964,  7.5509944};

/*
 * Filter f_c table
 */
const float cutoffTable[256] = {
		 0.        ,  0.00410665,  0.00821329,  0.01231989,  0.01642644,
		        0.02053292,  0.02463932,  0.02874561,  0.03285178,  0.03695781,
		        0.04106368,  0.04516939,  0.0492749 ,  0.0533802 ,  0.05748528,
		        0.06159012,  0.06569469,  0.06979899,  0.073903  ,  0.07800669,
		        0.08211006,  0.08621308,  0.09031573,  0.09441801,  0.09851988,
		        0.10262134,  0.10672237,  0.11082295,  0.11492306,  0.11902269,
		        0.12312181,  0.12722042,  0.13131849,  0.135416  ,  0.13951295,
		        0.1436093 ,  0.14770505,  0.15180018,  0.15589467,  0.1599885 ,
		        0.16408166,  0.16817412,  0.17226588,  0.17635691,  0.18044719,
		        0.18453672,  0.18862547,  0.19271342,  0.19680056,  0.20088687,
		        0.20497233,  0.20905693,  0.21314064,  0.21722346,  0.22130536,
		        0.22538633,  0.22946635,  0.2335454 ,  0.23762347,  0.24170054,
		        0.24577658,  0.24985159,  0.25392555,  0.25799843,  0.26207023,
		        0.26614092,  0.27021049,  0.27427893,  0.2783462 ,  0.2824123 ,
		        0.28647721,  0.29054092,  0.2946034 ,  0.29866463,  0.30272461,
		        0.30678331,  0.31084072,  0.31489681,  0.31895158,  0.32300501,
		        0.32705707,  0.33110775,  0.33515704,  0.33920491,  0.34325136,
		        0.34729636,  0.35133989,  0.35538194,  0.35942249,  0.36346153,
		        0.36749904,  0.37153499,  0.37556938,  0.37960219,  0.38363339,
		        0.38766298,  0.39169093,  0.39571724,  0.39974187,  0.40376482,
		        0.40778606,  0.41180559,  0.41582338,  0.41983942,  0.42385369,
		        0.42786617,  0.43187684,  0.4358857 ,  0.43989272,  0.44389788,
		        0.44790117,  0.45190257,  0.45590207,  0.45989965,  0.46389528,
		        0.46788896,  0.47188067,  0.47587039,  0.4798581 ,  0.48384379,
		        0.48782744,  0.49180903,  0.49578855,  0.49976598,  0.5037413 ,
		        0.5077145 ,  0.51168556,  0.51565445,  0.51962118,  0.52358571,
		        0.52754804,  0.53150814,  0.53546601,  0.53942161,  0.54337494,
		        0.54732598,  0.55127471,  0.55522112,  0.55916519,  0.56310689,
		        0.56704623,  0.57098317,  0.57491771,  0.57884982,  0.58277949,
		        0.58670671,  0.59063145,  0.5945537 ,  0.59847345,  0.60239067,
		        0.60630535,  0.61021747,  0.61412703,  0.61803399,  0.62193835,
		        0.62584008,  0.62973918,  0.63363562,  0.63752939,  0.64142047,
		        0.64530885,  0.64919451,  0.65307743,  0.65695759,  0.66083499,
		        0.6647096 ,  0.66858141,  0.6724504 ,  0.67631655,  0.68017985,
		        0.68404029,  0.68789784,  0.69175249,  0.69560422,  0.69945302,
		        0.70329887,  0.70714176,  0.71098167,  0.71481857,  0.71865247,
		        0.72248333,  0.72631115,  0.73013591,  0.73395758,  0.73777617,
		        0.74159164,  0.74540398,  0.74921319,  0.75301923,  0.7568221 ,
		        0.76062178,  0.76441825,  0.7682115 ,  0.77200151,  0.77578826,
		        0.77957175,  0.78335194,  0.78712884,  0.79090241,  0.79467265,
		        0.79843955,  0.80220307,  0.80596321,  0.80971996,  0.81347329,
		        0.81722319,  0.82096964,  0.82471263,  0.82845215,  0.83218817,
		        0.83592069,  0.83964968,  0.84337513,  0.84709703,  0.85081535,
		        0.85453008,  0.85824122,  0.86194873,  0.86565261,  0.86935284,
		        0.87304941,  0.87674229,  0.88043148,  0.88411696,  0.88779871,
		        0.89147671,  0.89515096,  0.89882143,  0.90248811,  0.90615099,
		        0.90981005,  0.91346527,  0.91711664,  0.92076415,  0.92440777,
		        0.92804749,  0.9316833 ,  0.93531519,  0.93894313,  0.94256711,
		        0.94618711,  0.94980313,  0.95341514,  0.95702314,  0.9606271 ,
		        0.96422701,  0.96782285,  0.97141461,  0.97500228,  0.97858583,
		        0.98216526,  0.98574055,  0.98931169,  0.99287865,  0.99644143,  1.};

const arm_linear_interp_instance_f32 semitoneLerp = {96,-12,1,&soundFreqTable[0]};
const arm_linear_interp_instance_f32 pitchBendLerp = {73,-36,1,&freqStepTable[0]};
const arm_linear_interp_instance_f32 cutoffLerp = {256,0,1./256,&cutoffTable[0]};
float getNoteFreq(float semitone){
	return arm_linear_interp_f32(&semitoneLerp,semitone);
}
float getFreqSlideAmt(float semitones){
	return arm_linear_interp_f32(&pitchBendLerp,semitones);
}
float getFilterFreq(float cutoff_freq){
	return arm_linear_interp_f32(&cutoffLerp,cutoff_freq);
}
